<div class="wrapper d-flex align-items-stretch">
  <app-menu></app-menu>
  <div id="content" class="p-4 p-md-5 pt-5">
      <div class="d-flex justify-content-end">
    <button type="button" class="btn btn-success m-3" data-bs-toggle="modal" data-bs-target="#exampleModal">
        Agregar Nuevo Reporte
      </button></div>
      
      <!-- Modal -->
      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Agregar un Nuevo Reporte</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="bg-white p-8 rounded shadow-md w-100">
                    <div class="row">
                      <form [formGroup]="AddPatientForm" (ngSubmit)="saveData()">
                        <div class="mb-4">
                          <label for="correo" class="block text-gray-700 font-semibold mb-2">Nombre del Reporte</label>
                          <input type="email" id="correo" class="form-control" formControlName="nombreReport">
                          <div *ngIf="AddPatientForm.get('nombreReport').errors && AddPatientForm.get('nombreReport').dirty">
                            <p class="text-danger" *ngIf="AddPatientForm.get('nombreReport').hasError('required')">Este campo es requerido</p>
                          </div>
                        </div>
                        <div class="mb-4">
                          <label for="genero" class="block text-gray-700 font-semibold mb-2">Paciente</label>
                          <select id="genero" class="form-control" formControlName="paciente">
                            <option value="M">Paciente 1</option>
                            <option value="F">Paciente 2</option>
                            <option value="O">Paciente 3</option>
                          </select>
                        </div>
                        <div class="mb-4">
                          <label for="correo" class="block text-gray-700 font-semibold mb-2">Descripci√≥n de Reporte</label>
                          <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" formControlName="report"></textarea>
                          <div *ngIf="AddPatientForm.get('report').errors && AddPatientForm.get('report').dirty">
                            <p class="text-danger" *ngIf="AddPatientForm.get('report').hasError('required')">Este campo es requerido</p>
                          </div>
                        </div>
                        <button type="submit" class="btn btn-primary w-100" [disabled]="AddPatientForm.invalid">Agregar</button>
                      </form>
                    </div>
                  </div>
            </div>
          </div>
        </div>
      </div>
      <table datatable class="row-border hover">
        <thead style="background-color: #044bb3; color:#FFF; border-radius: 20px !important;">
          <tr>
            <th>ID</th>
            <th>NombreReporte</th>
            <th>Paciente</th>
            <th>Fecha</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>2</td>
            <td>radiografia de brazo</td>
            <td>Laura Vargas</td>
            <td>18/02/2023</td>
            <td>
              <button type="button" class="btn btn-warning btn-sm" title="Editar el reporte">
                <i class="fa-solid fa-pen-to-square"></i>
              </button>&nbsp;
              <button type="button" class="btn btn-success btn-sm" title="Aprobar y Enviar">
                <i class="fa-solid fa-check-circle"></i>
              </button>&nbsp;
              <button type="button" class="btn btn-danger btn-sm" title="Eliminar">
                <i class="fa-solid fa-trash"></i>
              </button>&nbsp;
              <!-- <button style="color:#044bb3" type="button" class="btn btn-sm" title="No iniciado">
                <i class="fa-solid fa-face-frown"></i>
              </button>&nbsp; -->
               <button style="color:#aab605" type="button" class="btn btn-sm" title="Ver estado">
                <i class="fa-solid fa-face-meh"></i>
              </button>&nbsp;
              <!--<button style="color:#04b31b" type="button" class="btn btn-sm" title="Completado">
                <i class="fa-solid fa-face-smile"></i>
              </button>&nbsp; -->
            </td>
          </tr>
          <tr>
            <td>1</td>
            <td>radiografia de brazo</td>
            <td>santiago Cardenas</td>
            <td>18/02/2023</td>
            <td>
              <button type="button" class="btn btn-warning btn-sm" title="Editar el reporte">
                <i class="fa-solid fa-pen-to-square"></i>
              </button>&nbsp;
              <button type="button" class="btn btn-success btn-sm" title="Aprobar y Enviar">
                <i class="fa-solid fa-check-circle"></i>
              </button>&nbsp;
              <button type="button" class="btn btn-danger btn-sm" title="Eliminar">
                <i class="fa-solid fa-trash"></i>
              </button>&nbsp;
              <button style="color:#044bb3" type="button" class="btn btn-sm" title="No iniciado">
                <i class="fa-solid fa-face-frown"></i>
              </button>&nbsp;
              <!-- <button style="color:#aab605" type="button" class="btn btn-sm" title="Ver estado">
                <i class="fa-solid fa-face-meh"></i>
              </button>&nbsp;
              <button style="color:#04b31b" type="button" class="btn btn-sm" title="Completado">
                <i class="fa-solid fa-face-smile"></i>
              </button>&nbsp; -->
            </td>
          </tr>
        </tbody>
      </table>
      <!-- Esta tabla trae los datos del api -->
      <!-- <table datatable class="row-border hover">
        <thead style="background-color: #044bb3; color:#FFF; border-radius: 20px !important;">
          <tr>
            <th>ID</th>
            <th>First name</th>
            <th>Last name</th>
            <th>Genero</th>
            <th>NombreReporte</th>
            <th>Fecha</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let paciente_rep of Pacientes; let iControl=index">
            <td>{{ paciente_rep.id }}</td>
            <td>{{ paciente_rep.nombres }}</td>
            <td>{{ paciente_rep.apellidos }}</td>
            <td>{{ paciente_rep.genero }}</td>
            <td>{{ paciente_rep.nombre_reporte }}</td>
            <td>{{ paciente_rep.fecha_reporte }}</td>
            <td>
              <button type="button" class="btn btn-warning btn-sm" title="Editar el reporte" routerLink="/edit-reporte-paciente/{{ paciente_rep.id }}">
                <i class="fa-solid fa-pen-to-square"></i>
              </button>&nbsp;
              <button type="button" class="btn btn-success btn-sm" title="Aprobar y Enviar">
                <i class="fa-solid fa-check-circle"></i>
              </button>&nbsp;
              <button type="button" class="btn btn-danger btn-sm" title="Eliminar" (click)="borrarReporte(paciente_rep.id, iControl)">
                <i class="fa-solid fa-trash"></i>
              </button>&nbsp;
              <button style="color:#044bb3" type="button" class="btn btn-sm" title="No iniciado">
                <i class="fa-solid fa-face-frown"></i>
              </button>&nbsp;
              <!-- <button style="color:#aab605" type="button" class="btn btn-sm" title="Ver estado">
                <i class="fa-solid fa-face-meh"></i>
              </button>&nbsp;
              <button style="color:#04b31b" type="button" class="btn btn-sm" title="Completado">
                <i class="fa-solid fa-face-smile"></i>
              </button>&nbsp; 
            </td>
          </tr>
        </tbody>
      </table> -->
  </div>
</div>
  